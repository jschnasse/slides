<!DOCTYPE html>

<html lang="de">

<head>
<meta charset="utf-8">

<title>Regal - DA NRW - 2018</title>

<meta name="description"
	content="regal is content repository for various material">
<meta name="author" content="Jan Schnasse">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style"
	content="black-translucent">

<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/hbz.css" id="theme">

<!-- Code syntax highlighting -->
<link rel="stylesheet" href="lib/css/zenburn.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
<!-- Printing and PDF exports -->
<script>
	var link = document.createElement('link');
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css'
			: 'css/print/paper.css';
	document.getElementsByTagName('head')[0].appendChild(link);
</script>

<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<section>
				<h3>Regal – <br /> Eine flexible Repository Lösung 
				</h3>
				<p>
					<small> <a href="https://www.hbz-nrw.de">Jan Schnasse,
							Publikationssysteme, hbz NRW</a>
					</small> <br /> <img src="img/hbz.png"
						style="border: none; padding: 5px; background-color: white"
						width="125px" /><br /> <small>hbz, Köln, 2018-09-05</small>
				</p>
				<p>
					Diese Präsentation: <br /> <a
						href="http://hbz.github.io/slides/danrw-20180905" target=blank>http://hbz.github.io/slides/danrw-20180905</a>
				</p>
			</section>

			<section>
				<h2>Installationen</h2>
	<div class="container">
					<div class="col">
				<ul>
				<li>
				Derzeit zwei Installationen  
				<ul>
				<li>
				Fachrepositorium Lebenswissenschaften (ZBMED)
				</li>
				<li>
				Edoweb Archivserver (LBZ)
				</li>
				</ul>
				</li>
				<li>ca. <b>>24.000 Pdfs</b></li>
				<li>ca. <b>>10.000 Titeldatensätzen</b></li>
				<li>ca. <b>>1.000 Webseiten</b> 
				<ul>
				<li>ca. <b>>300</b> periodisch archiviert</li> 
				<li>mit ca. <b>>1.900 Versionen</b> </li> 
				</ul>
				</li>
				</ul>
				</div>
					<div class="col">
					<a href="https://repository.publisso.de/resource">
				<img src="img/publisso.png" width="400px"/>
				</a> 
				<a href="https://www.edoweb-rlp.de/resource">
				<img src="img/edoweb.png" width="400px"/>
				</a>
				</div>
			</section>
	
			
			<section>
				<h2>Hosting</h2>
				<div class="container">
					<div class="col">
							<ul>
									<li>Drupal CMS</li>
									<li>Elasticsearch Suchindex </li>
									<li>Fedora Commons Archiv</li>
									<li>Matomo Statistik</li>
									<li>Web-API nach Wunsch</li>
									<li>hbz Rechenzentrum
									<ul>
									<li>Flexible Serverarchitektur</li>
									<li>Zweistufiges Entwicklungssystem</li>
									<li>Tägliche Backups</li>
									<li>Performante Netzanbindung</li>
									<li>SSL Zertifikate per DFN</li>
									</ul>
									</li>
							</ul>
					</div>
<div class="col">
<figure>
     <img width="512" alt="Multiple Server " src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Multiple_Server_.jpg/512px-Multiple_Server_.jpg"/>			  
    <figcaption style="font-size:10px;">
				By Cskiran <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>, via <a href="https://commons.wikimedia.org/wiki/File:Multiple_Server_.jpg">Wikimedia Commons</a></figcaption>
</figure>
				
</div>

</div>
			
			</section>
			<section>
			<h2>Software Entwicklung</h2>
			<ul>
			<li>Open Source lizensiert auf <a href="https://github.com/hbz/">auf Github</a></li>
			<li>Modulare flexible Services
			<ul>
			<li><a href="https://github.com/edoweb">Regal Kernsystem</a></li>
			<li><a href="https://github.com/hbz/thumby">Thumbnail Service</a></li>
			<li><a href="https://github.com/hbz/skos-lookup">Skos Lookup Service</a></li>
			<li><a href="https://github.com/hbz/zettel">Erfassungsmasken Service</a></li>
			<li><a href="https://github.com/hbz/etikett">Konfiguration Service</a></li>
			<li><a href="https://github.com/hbz/DeepZoomService">Deepzoom Image Viewer</a></li>
			</ul>
			</li>
			<li>Eingebettet in die hbz Infrastruktur
			<ul><a href="http://okeanos-www.hbz-nrw.de/F/">Aleph</a>, <a href="https://lobid.org">Lobid</a></ul>
			</li>
			</ul>
			</section>
			<section>
			<h1>Software Architektur</h2>
			</section>
			<section>
			<ul>
			<li>Flexible service-orientierte Architektur</li>
			<li>Aufbau großer Webseiten möglich</li>
			<li>Trennung von Oberfläche und Datenschicht</li>
			</ul>			
			</section>
			<section>
			<img src="img/regal-arch-1.jpeg"/>
			</section>
			<section>
			<ul>
			<li>PHP CMS - Synergien mit Opus Entwicklung</li>
			<li>Datenschicht mit Fedora-Commons</li>
			<li>Eigene Integrationsschicht um Drittsyteme anzubinden</li>
			</ul>			
			</section>
			<section>
			<img src="img/regal-arch-2.jpeg"/>
			</section>
			<section>
			<h2>Software Architektur</h2>
			<ul>
			<li>Integrationsschicht in Form mehrere Module</li>
			<li>regal-api als Kernmodul</li>
			</ul>			
			</section>
			<section>
			<img src="img/regal-arch-3.jpeg"/>
			</section>
			<section>
			<ul>
			<li>Jedes Modul hat seine eigene Datenbank</li>
			<li>Zugriff auf die Daten eines anderen Moduls über APIs</li>
			</ul>			
			</section>
			<section>
			<img src="img/regal-arch-4.jpeg"/>
			</section>
			<section>
			<h1>Regal im DANRW</h1>
			</section>
			<section>
			Für DA NRW kann auf die CMS-Schicht verzichtet werden			
			</section>
			<section>
			<img src="img/regal-arch-5.jpeg"/>
			</section>
			<section>
			<h2>Regal API</h2>
			/public/docu
			<br/>
			<img src="img/swagger.png" width="400"/>
			</section>
			<section>
			<h2>Regal API</h2>
			... ein paar Beispiele
			</section>
		
			
			<section class="present" style="top:46px;display:block;">
			<h2>Objekt anlegen - Request</h2>
			
<i class="fas fa-arrow-right"></i> 		
		<table>
		<tr>
		<th scope="row">Location</th>
		<th><pre>/resource/danrw</pre></th>
		</tr>
		<tr>
		<th scope="row">Method</th>
		<th><pre>POST<pre></th>
		</tr>
		<tr>
		<th scope="row">Header</th>
		<th><pre>User</pre></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
{
	"contentType" : "head"
}		</pre></th>
		</tr>
		</table>	
		</section>
<section class="present" style="top:46px;display:block;">
			<h2>Objekt anlegen - Response</h2>
<i class="fas fa-arrow-left"></i> 	
<table>
		<tr>
		
		<tr>
		<th scope="row">Header</th>
		<th><pre>Location: {AbsoluteURI}</pre></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
{
	"code" : "200",
	"message" : "danrw:1 successfully created!"
}		</pre></th>
		</tr>
			<tr>
		<th scope="row">Code</th>
		<th><pre>200</pre></th> 
		</tr>
		</table>	

</section>
<section class="present" style="top:46px;display:block;">
<h2>Metadaten hinzufügen - Request</h2>
<i class="fas fa-arrow-right"></i> 		
		<table>
		<tr>
		<th scope="row">Location</th>
		<th><pre>/resource/danrw:1/metadata</pre></th>
		</tr>
		<tr>
		<th scope="row">Method</th>
		<th><pre>PUT<pre></th>
		</tr>
		<tr>
		<th scope="row">Header</th>
		<th><pre>Content-Type:text/plain;charset=utf-8</pre></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
&lt;danrw:12&gt; &lt;http://purl.org/dc/terms/title&gt; "Title"^^&lt;http://www.w3.org/2001/XMLSchema#string&gt; .
&lt;danrw:12&gt; &lt;http://hbz-nrw.de/regal#parallelEdition&gt; "HT016543284" .</pre></th>
		</tr>
		</table>	
</section>
<section class="present" style="top:46px;display:block;">
<h2>Metadaten hinzufügen - Response</h2>
<i class="fas fa-arrow-right"></i> 		
		<table>
		<tr>
		<th scope="row">Header</th>
		<th><pre></pre></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
{
	"code" : "200",
	"message" : "danrw:1 metadata updated!"
}		
		</pre>
		</th>
		<tr>
		<th scope="row">Code</th>
		<th><pre>200</pre></th> 
		</tr>
		</tr>
		</table>	
</section>

<section class="present" style="top:46px;display:block;">
<h2>Hierarchie erzeugen - Request</h2>
<i class="fas fa-arrow-right"></i> 		
		<table>
		<tr>
		<th scope="row">Location</th>
		<th><pre>/resource/danrw:1</pre></th>
		</tr>
		<tr>
		<th scope="row">Method</th>
		<th><pre>PATCH<pre></th>
		</tr>
		<tr>
		<th scope="row">Header</th>
		<th><pre>Content-Type:application/json</pre></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
{
   "parentPid" : "danrw:2"
}		
		</pre></th>
		</tr>
		</table>	
</section>

<section class="present" style="top:46px;display:block;">
<h2>Daten hochladen - Request</h2>
<i class="fas fa-arrow-right"></i> 		
		<table>
		<tr>
		<th scope="row">Location</th>
		<th><pre>/resource/danrw:1/data</pre></th>
		</tr>
		<tr>
		<th scope="row">Method</th>
		<th><pre>POST/PUT<pre></th>
		</tr>
		<tr>
		<th scope="row">Header</th>
		<th></th>
		</tr>
		<th scope="row">Body</th>
		<th><pre>
md5=ff3a952d5c2d3d53481553b16e37cba6;
type=application/pdf;
data=@$HOME/local/opt/regal/regal-install/test.pdf
		</pre></th>
		</tr>
		</table>	
</section>

<section>
<h2>Authorization</h2>
Basic Auth
<p/>
Regal-API bietet unterschiedliche Rollen für den Zugriff.
</section>

<section>
<h2>Proprietary headers</h2>
UserId=ulbm
<p>
Die eigentliche Nutzerverwaltung erfolgt außerhalb von regal-api.
Nutzerinformationen können im Header mit geschickt werden.
</p>
</section>
<section>
			<h2>Roadmap</h2>
			</section>
			<section>
			<img height="600px" src="img/milestones2018.png"/>
			</section>
			<section>
				<h2>Kontakt</h2>

				Email: <a href="mailto:schnasse@hbz-nrw.de">schnasse@hbz-nrw.de</a><br />
				Github: <a href="https://github.com/edoweb">GitHub</a><br />

				<br /> <br />
				<p>
					<small>Die Slides sind unter einer <a
						href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>-Lizenz
						veröffentlicht.
					</small>
				</p>
			</section>
		</div>

	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls : true,
			progress : true,
			history : true,
			center : true,

			transition : 'none', // none/fade/slide/convex/concave/zoom
			backgroundTransition : 'none',

			// Optional reveal.js plugins
			dependencies : [ {
				src : 'lib/js/classList.js',
				condition : function() {
					return !document.body.classList;
				}
			}, {
				src : 'plugin/markdown/marked.js',
				condition : function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src : 'plugin/markdown/markdown.js',
				condition : function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src : 'plugin/highlight/highlight.js',
				async : true,
				callback : function() {
					hljs.initHighlightingOnLoad();
				}
			}, {
				src : 'plugin/zoom-js/zoom.js',
				async : true
			}, {
				src : 'plugin/notes/notes.js',
				async : true
			} ]
		});
	</script>

</body>
</html>
